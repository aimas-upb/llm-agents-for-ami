@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix acl: <http://www.w3.org/ns/auth/acl#> .
@prefix hmas: <https://purl.org/hmas/> .
@prefix cashmere: <https://aimas.cs.pub.ro/ont/cashmere#> .
@prefix ex: <http://example.org/> .

<http://localhost:8080/workspaces/lab308/artifacts/LightSensor308/#artifact>
    a td:Thing, cashmere:ContextAuthorizedResource, hmas:Artifact, ex:LightSensor ;
    td:title "LightSensor308 with Context-Based Authorization" ;
    td:hasSecurityConfiguration [ a wotsec:NoSecurityScheme ] ;
    
    td:hasPropertyAffordance [
        a td:PropertyAffordance, ex:MeasurementProperty ;
        td:name "luminosity" ;
        td:hasForm [
            htv:methodName "GET" ;
            hctl:hasTarget <http://localhost:8080/workspaces/lab308/artifacts/LightSensor308/luminosity> ;
            hctl:forContentType "application/json" ;
            hctl:hasOperationType td:readProperty ;
        ] ;
        td:hasOutputSchema [
            a js:ObjectSchema ;
            js:properties [
                a js:NumberSchema ;
                js:propertyName "luminosity"
            ] ;
            js:required ("luminosity") ;
            js:additionalProperties false
        ] ;
    ] ;
    
    cashmere:hasAccessAuthorization [
        a cashmere:ContextBasedAuthorization ;
        acl:accessTo <http://localhost:8080/workspaces/lab308/artifacts/LightSensor308/#artifact> ;
        acl:mode acl:Read ;
        cashmere:hasAccessCondition ex:lightsensor308AccessCondition
    ] .
